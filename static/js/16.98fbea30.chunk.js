(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[16],{1167:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t(3),l=t(6),c=(t(1111),t(1112),t(1113),t(1114),t(0)),u=t.n(c),i=t(157),o=t(83),d=t(20),f=t(1110),s=(t(11),function(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n||[],l=a.isHungCao;return l||(r=(r=n.filter((function(e){var n;return null===t||void 0===t||null===(n=t[e.key])||void 0===n?void 0:n.access}))).filter((function(e){return!(null===e||void 0===e?void 0:e.hide)}))),r.map((function(e){var n=e.children||[];l||(n=(n=n.filter((function(e){var n;return null===t||void 0===t||null===(n=t[e.key])||void 0===n?void 0:n.access}))).filter((function(e){return!(null===e||void 0===e?void 0:e.hide)})));var a=n.length>0;return{id:e.key,name:e.title,url:e.url,icon:e.icon,children:a?n.map((function(e){return{id:e.id,name:e.title,url:e.url,icon:e.icon}})):null}}))}),m=t(469),v=t(7),b=t(1152),h=t(89),p={thucDonBepChuyen:Object(c.lazy)((function(){return t.e(7).then(t.bind(null,1166))})),duTruBepChuyen:u.a.lazy((function(){return t.e(9).then(t.bind(null,1164))})),gopDuTru:u.a.lazy((function(){return t.e(8).then(t.bind(null,1161))})),khoCom:Object(c.lazy)((function(){return Promise.resolve().then(t.bind(null,674))})),khoNuoc:Object(c.lazy)((function(){return t.e(1).then(t.bind(null,1056))}))},E=u.a.lazy((function(){return t.e(11).then(t.bind(null,1163))})),j=u.a.lazy((function(){return Promise.all([t.e(15),t.e(13)]).then(t.bind(null,1168))}));n.default=function(e){var n=e.firebase,t=Object(h.a)(),O=Object(l.a)(t,2),y=O[0],g=O[1],k=y.config,z=y.userPaths,C=u.a.useMemo((function(){return(null===k||void 0===k?void 0:k.path)?k.path:[]}),[k]),x=u.a.useMemo((function(){var e;return null===(e=Object(d.c)("employee"))||void 0===e?void 0:e.role}),[]);u.a.useEffect((function(){var e=null;g.getGlobalConfig();var t=Object(v.q)();return e=n.firestore.collection("employees").where("username","==",t).onSnapshot((function(e){var n,t=[];e.forEach((function(e){t.push(e.data())})),(null===t||void 0===t||null===(n=t[0])||void 0===n?void 0:n.active)||Object(v.x)()})),function(){e&&e()}}),[]);var M=u.a.useMemo((function(){var e=Object(v.g)();return"admin"===(null===e||void 0===e?void 0:e.id)}),[]),N=u.a.useMemo((function(){return{items:s(x,C,z,{isHungCao:M})}}),[M,x,C,z]),w=u.a.useMemo((function(){var e=C.reduce((function(e,n){var t=function e(n,t){var a=t.children;if(!a)return[].concat(Object(r.a)(n),[t]);var l=a.reduce((function(n,t){return e(n,t)}),[]);return[].concat(Object(r.a)(n),[t],Object(r.a)(l))}([],n);return[].concat(Object(r.a)(e),Object(r.a)(t))}),[]).reduce((function(e,n){var t=(null===p||void 0===p?void 0:p[n.key])||null;if(!t)return e;var l=Object(a.a)(Object(a.a)({},n),{},{component:t});return[].concat(Object(r.a)(e),[l])}),[]);return M?e:C&&z?e=e.filter((function(e){var n;return null===z||void 0===z||null===(n=z[e.key])||void 0===n?void 0:n.access})):[]}),[M,C,z]);return u.a.createElement("div",{className:"app"},u.a.createElement(f.a,{fixed:!0},u.a.createElement(c.Suspense,{fallback:u.a.createElement(m.a,null)},u.a.createElement(E,{onLogout:function(n){n&&n.preventDefault(),e.history.push("/login")}}))),u.a.createElement("div",{className:"app-body"},u.a.createElement(f.d,{fixed:!0,display:"lg"},u.a.createElement(f.g,null),u.a.createElement(f.f,null),u.a.createElement(f.i,Object.assign({navConfig:N},e,{router:i})),u.a.createElement(f.e,null),u.a.createElement(f.h,null)),w.length>0?u.a.createElement("main",{className:"main"},u.a.createElement("div",{className:"main-container"},u.a.createElement(c.Suspense,{fallback:u.a.createElement(m.a,null)},u.a.createElement(o.g,null,w.map((function(e){return u.a.createElement(o.d,{key:e.key,path:e.url,exact:e.exact,name:e.title,render:function(n){return u.a.createElement(e.component,Object.assign({},n,{state:Object(a.a)({},y),actions:Object(a.a)({},g)}))}})})),u.a.createElement(o.d,{path:"/",exact:!1,render:function(e){return u.a.createElement(j,Object.assign({},e,{state:Object(a.a)({},y),actions:Object(a.a)({},g)}))}}),u.a.createElement(o.c,{from:"/",to:"/"}))))):null,u.a.createElement(b.a,null)))}}}]);