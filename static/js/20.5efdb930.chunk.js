(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[20],{1132:function(e,n,a){"use strict";a.r(n);var t=a(3),o=a(1),r=a(5),u=a(0),c=a.n(u),i=a(22),l=a(28),s=a(260),b=a(161),m=a(474),d=a(11),f=a(7),g=a(276),C=a(332),p=Object(u.memo)((function(e){var n=e.state,a=e.actions,u=Object(g.a)(),p=Object(g.b)((function(e){return e.nhaCungCap})).nhaCungCapDonHangFilter,j=c.a.useMemo((function(){return new b.a}),[]),v=n.donDatHangsArray,O=n.ngayGiaoFilter,h=n.loading,y=n.moment;c.a.useEffect((function(){return a.getDonDatHangs(),function(){return a.stopListenDonDatHang()}}),[]);var D=c.a.useState([]),N=Object(r.a)(D,2),w=N[0],E=N[1],G=c.a.useMemo((function(){return v||[]}),[v]);c.a.useEffect((function(){if(G){var e=Object(i.l)(G,"tenNhaCungCap","tenNhaCungCap"),n=Object(i.f)(e,"tenNhaCungCap","tenNhaCungCap","tenNhaCungCap");u(Object(C.c)(n));var t=Object(i.l)(G,"ngayGiaoValue","name"),o=Object(i.f)(t,"ngayGiaoValue","name","name");a.setState({ngayGiaoFilter:o})}}),[G]);var S=c.a.useMemo((function(){var e=j.getTableColumns({});return console.log(e),e.map((function(e){return"tenNhaCungCap"===e.id?Object(o.a)(Object(o.a)({},e),p):"ngayGiaoValue"===e.id?Object(o.a)(Object(o.a)({},e),O):e}))}),[G,p,O]),k=Object(l.useModal)(),H=c.a.useMemo((function(){var e,n=null===k||void 0===k||null===(e=k.selectedData)||void 0===e?void 0:e.tenNhaCungCap;return{title:"\u0111\u01a1n h\xe0ng ".concat(n).toUpperCase(),Body:function(e){return c.a.createElement(s.a,e)},footer:!1,width:950,onCancel:function(){return a.setState({nguyenLieuDataSource:null})},maskClosable:!1}}),[k.selectedData]),M=Object(o.a)(Object(o.a)({},(null===e||void 0===e?void 0:e.breadcrumb)||{}),{},{buttons:[{element:w.length>0?c.a.createElement("button",{key:"export",className:"btn btn-sm btn-success",onClick:function(){if(!window.confirm("Are you sure?"))return null;var e=w.map((function(e){var n=y(null===e||void 0===e?void 0:e.ngayGiao);return Object(o.a)(Object(o.a)({},e),{},{ngayGiaoString:n.format("DD-MM-YY")})})),n=Object(d.groupBy)(e,"ngayGiaoString"),a=Object.entries(n);if(a.length>1)Object(m.b)(a);else{var r=w.reduce((function(e,n){var a=(null===n||void 0===n?void 0:n.datas)||[];return[].concat(Object(t.a)(e),Object(t.a)(a))}),[]);Object(m.a)(null,r,{})}}},c.a.createElement("i",{className:"fa fa-file-excel-o"})," Export"):null}]});return c.a.createElement("div",{className:"donDangXuLy"},c.a.createElement(l.Breadcrumb,{breadcrumb:M}),"Admin"===Object(f.o)()&&c.a.createElement("button",{className:"btn btn-sm btn-success",onClick:function(){if(!window.confirm("Are you sure?"))return null;w.forEach((function(e){a.setHuyDonDatHang(e,{})}))}},"H\u1ee7y \u0111\u01a1n"),c.a.createElement(l.AntTable,{rowKey:"id",bordered:!0,className:"donDangXuLy__table",size:"small",dataSource:G,columns:S,scroll:{x:800},rowClassName:"hoverClassBG",loading:h,rowSelection:{onChange:function(e,n){return E(n)},getCheckboxProps:function(e){return{name:e.name}}},onRow:function(e){return{onClick:function(){a.setState({donDatHangData:e,nguyenLieuFilters:{nhaCungCapId:null===e||void 0===e?void 0:e.nhaCungCapId}}),k.open()(e)}}}}),k.getRender(H))}));n.default=p}}]);